# 函数式编程

## 什么是函数式编程

**函数式编程是以调用函数为主的软件开发风格**

> 函数式编程会改变我们处理日常工作时的思路，让我们使用函数来**抽象**作用在数据上的控制流于操作，从而在系统中消除副作用并减少对状态的改变。

最关键的是**抽象**作用，其实编程功底最后比拼的就是抽象能力。

## 函数式编程和命令式编程

函数式编程和命令式编程二者都属于编程范式，最大的不同在于：

**命令式编程关心解决问题的步骤，函数式编程关心数据的映射**

所谓命令式编程，就是你要做什么事情，把这个步骤描绘出来，然后交给机器去做。

比如一个求和函数，我们通常这样写：
``` js
let nums=[49,50,43,55,64];

let sum=0;
for(let i=0;i<nums.length;i++){
    sum+=nums[i];
}
console.log(sum);
```

如果改为函数式编程则：
``` js
console.log([49,50,43,55,64].reduce((a,b)=>a+b));
```

这样就可以把程序员的注意力从从程序的步骤控制、变量的维护等繁琐的事情中解放出来，去专注于要实现什么，而且中间没有[副作用](https://baike.baidu.com/item/%E5%87%BD%E6%95%B0%E5%89%AF%E4%BD%9C%E7%94%A8/22723425?fr=aladdin)。

什么是副作用，举例：
``` js
let sum = 0;
function add(nums){
    for(let i=0;i<nums.length;i++){
        sum+=nums[i];
    }
    return sum;
}
console.log(add([1,2]))// 3
console.log(add([2,4]))// 9
```

**副作用**
(Side Effect)是指函数或者表达式的行为依赖于外部世界。具体可参照Wiki上的定义，副作用是指
1. 函数或者表达式修改了它的SCOPE之外的状态
2. 函数或者表达式除了返回语句外还与外部世界或者它所调用的函数有明显的交互行为


## 纯函数

所谓纯函数，就是**对于相同的输入，永远都会给出相同的输出，没有任何副作用，也不依赖外部环境的状态。**

``` js
let arr=[1,2,3,4,5];
arr.slice(0,2);//这是纯函数，因为只要参数一样，输出总一样
arr.slice(0,2);//输出结果与上一句相同
// ----
arr.splice(0,2);//非纯函数，参数一样，但是输出变化了
arr.splice(0,2);//输出变化了，与上一句结果不同
```

纯函数的输入和输出是确定的，不会有副作用，是可信的。

## 高级函数

众所周知，函数在JS中是一等公民，即可以当作参数被传递、也可以当作返回值返回。

高阶函数是对其他函数进行操作的函数，操作可以是将它们作为参数，或者是返回它们。 简单来说，**高阶函数是一个接收函数作为参数或将函数作为输出返回的函数**。例如，Array.prototype.map，Array.prototype.filter 和 Array.prototype.reduce 是语言中内置的一些高阶函数。

``` js
console.log([1,2,3].map(e=>e * 2)) // [2,4,6]
```

简而言之，高阶函数是一个可以接收函数作为参数，甚至返回一个函数的函数。 它就像常规函数一样，只是多了接收和返回其他函数的附加能力，即参数和输出。

## 函数柯里化



## 参考

- [编程范式-函数式编程](https://coffe1891.gitbook.io/frontend-hard-mode-interview/5/5.2.1)