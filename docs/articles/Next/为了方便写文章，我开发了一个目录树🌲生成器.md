è¿™ä¸ªå·¥å…·ä¸»è¦æ˜¯ä¸ºäº†æ–¹ä¾¿åœ¨å†™æ–‡ç« çš„æ—¶å€™ï¼Œå±•ç¤ºè‡ªå·±çš„é¡¹ç›®çš„ç›®å½•ç»“æ„ï¼Œæˆ–è€…åœ¨ README æ–‡ä»¶ä¸­ä»‹ç»é¡¹ç›®ä½¿ç”¨çš„ï¼Œä¸Šä¼ æ–‡ä»¶å¤¹åå¯ä»¥ç”Ÿæˆç›®å½•ç»“æ„ï¼Œæ”¯æŒä¸€é”®å¤åˆ¶ã€‚

![image.png](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/acd66e5e5d734e6d95faa58e6e9b223e~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=1057&h=795&s=50355&e=png&b=ffffff)

æ‚¨å¯ä»¥é€šè¿‡ä»¥ä¸‹é“¾æ¥è®¿é—®ï¼š[ç›®å½•æ ‘ç”Ÿæˆå™¨ - åœ¨çº¿ä½¿ç”¨](https://www.zhangningle.top/dir-tree/)

## Next.js

æ˜¯ä¸€ä¸ª React å…¨æ ˆæ¡†æ¶ï¼Œå®ƒä¸ä»…å¯ä»¥ç”¨äºæ„å»ºæœåŠ¡å™¨ç«¯æ¸²æŸ“ï¼ˆSSRï¼‰ï¼Œä¹Ÿæ”¯æŒæ”¯æŒé™æ€æ¸²æŸ“ã€‚

## webkitdirectory

> **`HTMLInputElement.webkitdirectory`**Â  æ˜¯ä¸€ä¸ªååº”äº† HTML å±æ€§ Â [`webkitdirectory`](https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/input/file#webkitdirectory)Â  çš„å±æ€§ï¼Œå…¶æŒ‡ç¤º Â [`<input>`](https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/input)Â  å…ƒç´ åº”è¯¥è®©ç”¨æˆ·é€‰æ‹©æ–‡ä»¶ç›®å½•è€Œéæ–‡ä»¶ã€‚åœ¨é€‰æ‹©æ–‡ä»¶ç›®å½•åï¼Œè¯¥ç›®å½•åŠå…¶æ•´ä¸ªå†…å®¹å±‚æ¬¡ç»“æ„å°†åŒ…å«åœ¨æ‰€é€‰é¡¹ç›®é›†å†…ã€‚å¯ä»¥ä½¿ç”¨ Â [`webkitEntries`Â (en-US)](https://developer.mozilla.org/en-US/docs/Web/API/HTMLInputElement/webkitEntries "Currently only available in English (US)")Â  å±æ€§è·å–é€‰å®šçš„æ–‡ä»¶ç³»ç»Ÿæ¡ç›®ã€‚  
>  â€”â€”â€”â€”â€”â€”â€”MDN

ç®€è€Œè¨€ä¹‹ åˆ©ç”¨è¿™å±æ€§ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æµè§ˆå™¨ä¸­ä¸Šä¼ æ–‡ä»¶å¤¹ï¼Œå¹¶è·å–åˆ°æ–‡ä»¶çš„ç›®å½•ç»“æ„ã€‚

å¯ä»¥çœ‹ä¸€ä¸ªç®€å•çš„æ —å­ ğŸŒ°
[jcode](https://code.juejin.cn/pen/7292981964927074341)

è¿™ä¸ªåŠŸèƒ½ï¼Œä¹Ÿæœ‰ä¸€ä¸ªå…¼å®¹é—®é¢˜ï¼Œå…·ä½“å‚è€ƒè¿™ä¸ªï¼š

![image.png](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8610c63c53fa4ff9bdf08882562288f5~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=824&h=454&s=52447&e=png&b=fefefe)

æœ‰ä¸€äº›è€ç‰ˆæœ¬çš„æµè§ˆå™¨å’Œå®‰å“ç«¯ç«ç‹æµè§ˆå™¨ä¸æ”¯æŒçš„æ— æ³•ä½¿ç”¨è¯¥åŠŸèƒ½ã€‚

## æ•°æ®è½¬æ¢

æˆ‘ä»¬è¦å°†åŸæ•°æ®è½¬æ¢ä¸€ä¸‹

```åŸæ•°æ®
-   Java/main/main.java
-   Java/main/main.class
-   Java/hello/HelloWorld.class
-   Java/hello/HelloWorld.java
-   Java/OOP/xx.js
-   Java/OOP/Person.class
-   Java/OOP/oop.class
-   Java/OOP/oop.java
```

è½¬æ¢ä¸ºï¼š

```js
{
    "name": "Java",
    "type": "folder",
    "contents": [
        {
            "name": "main",
            "type": "folder",
            "contents": [
                {
                    "name": "main.java",
                    "type": "file"
                },
                {
                    "name": "main.class",
                    "type": "file"
                }
            ]
        },
        {
            "name": "hello",
            "type": "folder",
            "contents": [
                {
                    "name": "HelloWorld.class",
                    "type": "file"
                },
                {
                    "name": "HelloWorld.java",
                    "type": "file"
                }
            ]
        },
        {
            "name": "OOP",
            "type": "folder",
            "contents": [
                {
                    "name": "xx.js",
                    "type": "file"
                },
                {
                    "name": "Person.class",
                    "type": "file"
                },
                {
                    "name": "oop.class",
                    "type": "file"
                },
                {
                    "name": "oop.java",
                    "type": "file"
                }
            ]
        }
    ]
}
```

å°†è·¯å¾„ç»“æ„è½¬åŒ–ä¸ºå¯¹è±¡ç»“æ„ï¼Œæ–¹ä¾¿æˆ‘ä»¬çš„åç»­é€»è¾‘å¤„ç†ï¼Œè½¬åŒ–æ–¹æ³•æ˜¯ï¼š

```js
function convertToDirectoryStructure(fileList) {
  const directory = {
    name: "App",
    type: "folder",
    contents: [],
  };

  for (let i = 0; i < fileList.length; i++) {
    const pathSegments = fileList[i].webkitRelativePath.split("/");
    let currentDirectory = directory;

    for (let j = 0; j < pathSegments.length; j++) {
      const segment = pathSegments[j];
      const isDirectory = j < pathSegments.length - 1;

      let existingEntry = currentDirectory.contents.find((entry) => entry.name === segment);
      if (!existingEntry) {
        existingEntry = { name: segment };
        if (isDirectory) {
          existingEntry.type = "folder";
          existingEntry.contents = [];
        } else {
          existingEntry.type = "file";
        }
        currentDirectory.contents.push(existingEntry);
      }

      currentDirectory = existingEntry;
    }
  }

  return directory.contents[0];
}
```

## æœ€ç»ˆæ•ˆæœ

æœ€åæˆ‘ä»¬å†åŠ ä¸Šä¸€ä¸ªä¸€é”®å¤åˆ¶çš„åŠŸèƒ½ï¼Œå°±å®Œæˆäº†ã€‚

[jcode](https://code.juejin.cn/pen/7292993189483380745)

æœ€åæˆ‘æ˜¯å°†åŠŸèƒ½ä¼˜åŒ–åéƒ¨ç½²åˆ°äº† GitHub Pagas ä¸Šï¼Œå¦‚ä½•å°† Next.js éƒ¨ç½²åˆ° GitHub Pagesï¼Œå¯ä»¥çœ‹çœ‹æˆ‘çš„è¿™ç¯‡ [å¦‚ä½•å°† Next.js éƒ¨ç½²åˆ° Github Pages](https://juejin.cn/post/7291842185787424780)ã€‚

æœ€åå¸Œæœ›å¤§å®¶å¤šå¤šä½¿ç”¨ï¼Œç»™ä¸ª starï¼ŒGitHub åœ°å€ï¼š[dir-tree](https://github.com/AnsonZnl/dir-tree)
